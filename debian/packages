# $Id: /trunk/debian/dists/phpmyadmin/debian/packages 54 2006-06-26T08:56:00.163161Z dexter  $

# If the debian/rules or debian/control file is missing, rebuild the file:
#
#   $ yada rebuild control
#   $ yada rebuild rules


Source: phpmyadmin
Section: web
Priority: extra
Maintainer: Thijs Kinkhorst <thijs@debian.org>
Standards-Version: 3.7.2
Upstream-Source: <USCAN:http://sf.net/phpmyadmin/phpMyAdmin-([0-9.]*(?:-pl[0-9]*)?)\.tar\.gz>
Home-Page: <URL:http://www.phpmyadmin.net/>
Description: Administrate MySQL over the WWW
Copyright: GPL
     Copyright (C) 1998-2000 Tobias Ratschiller <tobias_at_ratschiller.com>
     Copyright (C) 2001-2006 Marc Delisle <DelislMa_at_CollegeSherbrooke.qc.ca>
                             Olivier Mller <om_at_omnis.ch>
                             Robin Johnson <robbat2_at_users.sourceforge.net>
                             Alexander M. Turek <me_at_derrabus.de>
                             Michal Cihar <michal_at_cihar.com>
                             Garvin Hicking <me_at_supergarv.de>
                             Michael Keck <mkkeck_at_users.sourceforge.net>
                             Sebastian Mendel <cybot_tm_at_users.sourceforge.net>
                             [check Documentation.txt/.html file for more details]
Major-Changes:
%`cd debian/patches && ls *.patch | sed -e 's/^/ /'`
Patches: patches/*.patch

Package: phpmyadmin
Architecture: all
Depends: php5-cgi | php5 | php4-cgi | php4
Depends: php5-mysql | php5-mysqli | php4-mysql
Depends: perl
Depends: []
Recommends: apache2 | httpd
Recommends: php5-mcrypt | php4-mcrypt
Recommends: php5-gd | php4-gd
Recommends: []
Suggests: mysql-server (>= 3.23.36)
Suggests: []
Description: Administrate MySQL over the WWW
 phpMyAdmin is intended to handle the administration of MySQL over the WWW.
 Currently it can:
   - easily browse through databases and tables
   - create, copy, rename, alter and drop databases
   - create, copy, rename, alter and drop tables
   - do table maintenance
   - add, edit and drop fields
   - execute any SQL-statement, even multiple queries
   - create, alter and drop indexes
   - load text files into tables
   - create and read dumps of tables or databases
   - export data to SQL, CSV, XML, Word, Excel, PDF and Latex formats
   - administer multiple servers
   - manage MySQL users and privileges
   - check server settings and runtime information with configuration hints
   - check referential integrity in MyISAM tables
   - using Query-by-example (QBE), create complex queries automatically
     connecting required tables
   - create PDF graphics of your Database layout
   - search globally in a database or a subset of it
   - transform stored data into any format using a set of predefined
     functions, like displaying BLOB-data as image or download-link
   - support InnoDB tables and foreign keys
   - support mysqli, the improved MySQL extension
   - communicate in 50 different languages
 .
 Homepage: http://www.phpmyadmin.net/
Install: sh
 yada install -data -into /usr/share/phpmyadmin *.php *.css
 yada install -data -into /usr/share/phpmyadmin/scripts scripts/setup.php
 yada copy -data -into /usr/share/phpmyadmin css js lang libraries themes
 yada remove -data -into /usr/share/phpmyadmin/lang *.sh
 yada remove -data -into /usr/share/phpmyadmin/libraries/fpdf README
 yada remove -data -into /usr/share/phpmyadmin/libraries/transformations *.sh README TEMPLATE*
 yada install -data -into /usr/share/phpmyadmin Documentation.html translators.html
 yada install -data -into /usr/share/phpmyadmin ChangeLog INSTALL README
 yada install -dir /var/lib/phpmyadmin
 yada symlink -data -into /usr/share/phpmyadmin/config /var/lib/phpmyadmin/config.inc.php
 yada install -dir /etc/phpmyadmin
 yada install -conf -ucf -subdir phpmyadmin debian/conf/config.inc.php
 yada install -conf -ucf -subdir phpmyadmin debian/conf/config.header.inc.php
 yada install -conf -ucf -subdir phpmyadmin debian/conf/config.footer.inc.php
 yada install -conf -ucf -subdir phpmyadmin debian/conf/htaccess
 yada install -conf -ucf -subdir phpmyadmin debian/conf/apache.conf
 yada symlink -into /usr/share/phpmyadmin -as .htaccess /etc/phpmyadmin/htaccess
 yada install -into /usr/share/phpmyadmin debian/src/config.inc.php
 yada install -into /usr/share/phpmyadmin debian/src/config.header.inc.php
 yada install -into /usr/share/phpmyadmin debian/src/config.footer.inc.php
 yada install -dir /var/www
 .
 perl -pi -e "s/'([0-9a-z.]+)'/'\$1-Debian-${VERSION##*-}'/ if /set..PMA_VERSION/" $ROOT/usr/share/phpmyadmin/libraries/Config.class.php
 .
 yada install -doc README TODO CREDITS
 yada install -doc Documentation.html translators.html
 yada install -doc -as changelog ChangeLog
 yada install -doc -as README.Debian debian/README
 yada install -doc -as NEWS.Debian -gzip debian/NEWS
 yada install -doc -as NEWS debian/NEWS.upstream
 yada install -doc -subdir scripts scripts/*
 yada remove -doc -subdir scripts setup.php
Templates:
 Template: phpmyadmin/reconfigure-webserver
 Type: multiselect
 Choices: apache, apache-ssl, apache-perl, apache2
 Default:
 _Description: Which web server would you like to reconfigure automatically?
  phpMyAdmin supports any web server that PHP does, but this automatic
  configuration process only supports Apache.
 .
 Template: phpmyadmin/restart-webserver
 Type: boolean
 Default: false
 _Description: Do you want me to restart ${webserver} now?
  Remember that in order to activate the new configuration
  ${webserver} has to be restarted. You can also restart ${webserver}
  by manually executing /etc/init.d/${webserver} restart
 .
 Template: phpmyadmin/setup-username
 Type: string
 Default: admin
 _Description: User name for web-based setup system:
  phpMyAdmin comes with a setup script that can help you with creating
  configuration. The script is located at http://localhost/phpmyadmin/scripts/setup.php .
  For security reason it requires authorization.
  .
  Leave empty if you want to use the default user name 'admin'.
 .
 Template: phpmyadmin/setup-password
 Type: password
 Default:
 _Description: Password for web-based setup system:
  phpMyAdmin comes with a setup script that can help you with creating
  configuration. The script is located at http://localhost/phpmyadmin/scripts/setup.php .
  For security reason it requires authorization.
  .
  You can manage the usernames and passwords with `htpasswd' command.
  They are stored in /etc/phpmyadmin/htpasswd.setup file.
  .
  Leave empty if you want to disable access to web-based setup.
Config: bash
 db_input medium phpmyadmin/reconfigure-webserver || true
 db_go || true
 if [ ! -f /etc/phpmyadmin/htpasswd.setup ]; then
     db_input medium phpmyadmin/setup-username || true
     db_input medium phpmyadmin/setup-password || true
     db_go || true
 fi
Preinst: bash
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "2.1.0.1-2"; then
     if [ -d /etc/phpmyadmin ]; then
         for i in config footer header; do
             mv -f /etc/phpmyadmin/$i.inc.php3 /etc/phpmyadmin/$i.inc.php || true
         done
     fi
 fi
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "2.5.4-1"; then
     for webserver in apache apache-perl apache-ssl; do
         if grep -qs "^Include /etc/phpmyadmin/apache.conf" /etc/$webserver/httpd.conf; then
             cp -af /etc/$webserver/httpd.conf /etc/$webserver/httpd.conf.old.phpmyadmin
             grep -v "^Include /etc/phpmyadmin/apache.conf" /etc/$webserver/httpd.conf \
                 > /etc/$webserver/httpd.conf.new.phpmyadmin
             chmod --reference=/etc/$webserver/httpd.conf /etc/$webserver/httpd.conf.new.phpmyadmin
             chown --reference=/etc/$webserver/httpd.conf /etc/$webserver/httpd.conf.new.phpmyadmin
             mv -f /etc/$webserver/httpd.conf.new.phpmyadmin /etc/$webserver/httpd.conf
         fi
     done
 fi
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "2.5.6-rc2-1"; then
     if [ -d /etc/phpmyadmin ]; then
         for i in footer header; do
             mv -f /etc/phpmyadmin/$i.inc.php /etc/phpmyadmin/$i.inc.php.dpkg-old || true
             ucf --purge /etc/phpmyadmin/$i.inc.php
         done
     fi
 fi
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "2:2.6.1-rc2-1"; then
     for webserver in apache apache-perl apache-ssl apache2; do
         if [ -h /etc/$webserver/conf.d/phpmyadmin ]; then
             mv /etc/$webserver/conf.d/phpmyadmin /etc/$webserver/conf.d/phpmyadmin.conf
         fi
     done
 fi
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "3:2.6.1-pl2-2"; then
     for webserver in apache apache-perl apache-ssl apache2; do
         if [ -h /etc/$webserver/conf.d/phpmyadmin -a -h /etc/$webserver/conf.d/phpmyadmin.conf ]; then
             rm -f /etc/$webserver/conf.d/phpmyadmin
         fi
     done
 fi
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "3:2.6.2-rc1-2"; then
     for webserver in apache apache-perl apache-ssl apache2; do
         if [ -h /etc/$webserver/conf.d/phpmyadmin.conf ]; then
             cat /etc/$webserver/conf.d/phpmyadmin.conf > /etc/$webserver/conf.d/phpmyadmin.conf.dpkg-tmp
             rm -f /etc/$webserver/conf.d/phpmyadmin.conf
             cp /etc/$webserver/conf.d/phpmyadmin.conf.dpkg-tmp /etc/$webserver/conf.d/phpmyadmin.conf
         fi
     done
     mv -f /etc/phpmyadmin/apache.conf /etc/phpmyadmin/apache.conf.dpkg-old || true
     ucf --purge /etc/phpmyadmin/apache.conf
     rm -f /etc/phpmyadmin/apache.conf.md5sum
 fi
 # Trying to fix the mess. Sorry :( See #307275.
 if [ "$1" = "upgrade" -a "$2" = "4:2.6.2-1" ]; then
     if grep -qs "^# Include /etc/apache2/conf\.d/\[^\.#\]\*$" /etc/apache2/apache2.conf; then
         cp -af /etc/apache2/apache2.conf /etc/apache2/apache2.conf.old.phpmyadmin
         grep -v "^Include /etc/apache2/conf\.d/\*\.conf" /etc/apache2/apache2.conf.old.phpmyadmin | \
         sed "s%^# \(Include /etc/apache2/conf\.d/\[^\.#\]\*\)$%\1%" > /etc/apache2/apache2.conf.new.phpmyadmin
         chmod --reference=/etc/apache2/apache2.conf /etc/apache2/apache2.conf.new.phpmyadmin
         chown --reference=/etc/apache2/apache2.conf /etc/apache2/apache2.conf.new.phpmyadmin
         mv -f /etc/apache2/apache2.conf.new.phpmyadmin /etc/apache2/apache2.conf
     fi
 fi
 if [ "$1" = "upgrade" -a -n "$2" ] && \
   dpkg --compare-versions "$2" lt-nl "4:2.6.4-pl1-1"; then
     for webserver in apache apache-perl apache-ssl apache2; do
         if echo "869f29f7cae89228518a87b0758e6bd4  /etc/$webserver/conf.d/phpmyadmin.conf" | md5sum -c >/dev/null 2>&1; then
             rm -f /etc/$webserver/conf.d/phpmyadmin.conf
         fi
     done
     ucf --purge /etc/$webserver/conf.d/phpmyadmin.conf
 fi
 .
 if [ -f /etc/phpmyadmin/apache.conf ]; then
     md5sum /etc/phpmyadmin/apache.conf 2>/dev/null >/etc/phpmyadmin/apache.conf.dpkg-md5sum || true
 fi
Postinst: bash
 if [ "$1" = "configure" -a -f /etc/phpmyadmin/blowfish_secret.inc.php ] \
   && dpkg --compare-versions "$2" lt-nl "1:2.5.7-pl1-2"; then
     chgrp www-data /etc/phpmyadmin/blowfish_secret.inc.php
     chmod 640 /etc/phpmyadmin/blowfish_secret.inc.php
 fi
 .
 if [ "$1" = "configure" ]; then
 .
     if [ -z "$2" ] || dpkg --compare-versions "$2" lt-nl "4:2.8.0.2-1"; then
         if [ ! -e /var/www/phpmyadmin ]; then
             ln -s /usr/share/phpmyadmin /var/www/phpmyadmin || true
         fi
     fi
 .
     if [ ! -f /etc/phpmyadmin/blowfish_secret.inc.php ]; then
         touch /etc/phpmyadmin/blowfish_secret.inc.php
         chgrp www-data /etc/phpmyadmin/blowfish_secret.inc.php
         chmod 640 /etc/phpmyadmin/blowfish_secret.inc.php
         printf "<?php\n\$cfg['blowfish_secret'] = '%s';\n?>\n" \
         `perl -le 'print map{("a".."z","A".."Z",0..9)[int(rand(62))]}(1..24)'` \
             >> /etc/phpmyadmin/blowfish_secret.inc.php
     fi
 .
     if [ ! -f /etc/phpmyadmin/htpasswd.setup ]; then
         touch /etc/phpmyadmin/htpasswd.setup
         chgrp www-data /etc/phpmyadmin/htpasswd.setup
         chmod 640 /etc/phpmyadmin/htpasswd.setup
         db_get phpmyadmin/setup-username
         setup_username=${RET:-admin}
         db_get phpmyadmin/setup-password
         if [ -n "$RET" ]; then
             setup_password=`perl -le 'print crypt($ARGV[0], join("", map{("a".."z","A".."Z",0..9)[int(rand(62))]}(1..2)))' "$RET"`
         else
             setup_password="*"
         fi
         echo "$setup_username:$setup_password" > /etc/phpmyadmin/htpasswd.setup
         db_reset phpmyadmin/setup-username || true
         db_reset phpmyadmin/setup-password || true
     fi
 .
     if [ ! -f /var/lib/phpmyadmin/config.inc.php ]; then
         if [ -z "$2" ] || dpkg --compare-versions "$2" lt-nl "4:2.8.0.2-1"; then
             date=`LANG=C date -R`
             for php in /usr/bin/php /usr/bin/php5 /usr/bin/php4 /usr/lib/cgi-bin/php /usr/lib/cgi-bin/php5 /usr/lib/cgi-bin/php4 ''; do
                 test -n "$php" || break
                 test -x $php || continue
                 php_test=`echo '<?php print "OK" ?>' | $php -q 2>&1`
                 test "$php_test" = "OK" && break
             done
             if [ -n "$php" ]; then
                 blowfish_secret=`echo '<?php include("/etc/phpmyadmin/blowfish_secret.inc.php"); print $cfg["blowfish_secret"]; ?>' | $php -q 2>/dev/null`
             else
                 blowfish_secret=`cat /etc/phpmyadmin/blowfish_secret.inc.php | perl -nale "s/(\\/\\/|#).*//; s/^\\s+//; next unless s/^\\\$cfg\[['\"]?blowfish_secret['\"]?\\]\\s*=\\s*['\"](.*)['\"].*$/\$1/; print" | tail -n1`
             fi
             if [ -z "$blowfish_secret" ]; then
                 blowfish_secret=`perl -le 'print map{("a".."z","A".."Z",0..9)[int(rand(62))]}(1..24)'`
             fi
             touch /var/lib/phpmyadmin/config.inc.php
             chown www-data:www-data /var/lib/phpmyadmin/config.inc.php
             chmod 640 /var/lib/phpmyadmin/config.inc.php
             cat << 'END' | sed 's/%DATE%/'"$date"'/g; s/%BLOWFISH_SECRET%/'"$blowfish_secret"'/g' > /var/lib/phpmyadmin/config.inc.php
%`cat debian/var/config.inc.php | sed -e 's/^/ /; s/^ $/ ./'`
 END
         fi
     fi
 .
     db_get phpmyadmin/reconfigure-webserver
     webservers="$RET"
     restart=""
 .
     for webserver in $webservers; do
         webserver=${webserver%,}
         test -x /usr/sbin/$webserver || continue
 .
         case "$webserver" in
             apache|apache-perl|apache-ssl)
                 if [ -x /usr/sbin/modules-config ]; then
                     if [ -f /usr/lib/apache/1.3/libphp4.so ]; then
                         if ! grep -qs "^LoadModule php4_module " /etc/$webserver/modules.conf && \
                            ! grep -qs "^LoadModule php5_module " /etc/$webserver/modules.conf; then
                             modules-config $webserver enable mod_php4
                         fi
                     elif [ -f /usr/lib/apache/1.3/mod_php5.so ]; then
                         if ! grep -qs "^LoadModule php4_module " /etc/$webserver/modules.conf && \
                            ! grep -qs "^LoadModule php5_module " /etc/$webserver/modules.conf; then
                             modules-config $webserver enable mod_php5
                         fi
                     else
                         if [ -f /usr/lib/apache/1.3/mod_actions.so ]; then
                             if ! grep -qs "^LoadModule action_module " /etc/$webserver/modules.conf; then
                                 modules-config $webserver enable mod_actions
                             fi
                         fi
                         if [ -f /usr/lib/apache/1.3/mod_cgi.so ]; then
                             if ! grep -qs "^LoadModule cgi_module " /etc/$webserver/modules.conf && \
                                ! grep -qs "^LoadModule fastcgi_module " /etc/$webserver/modules.conf; then
                                 modules-config $webserver enable mod_cgi
                             fi
                         fi
                     fi
                 fi
                 ;;
             apache2)
                 if [ -d /etc/$webserver/mods-enabled ]; then
                     if [ ! -f /etc/$webserver/mods-enabled/actions.load -a ! -h /etc/$webserver/mods-enabled/actions.load ]; then
                         ln -s /etc/$webserver/mods-available/actions.load /etc/$webserver/mods-enabled/actions.load
                     fi
                     if [ -f /etc/apache2/mods-available/php4.load -a -f /usr/lib/apache2/modules/libphp4.so ]; then
                         if [ ! -f /etc/$webserver/mods-enabled/php4.load -a ! -h /etc/$webserver/mods-enabled/php4.load -a \
                              ! -f /etc/$webserver/mods-enabled/php5.load -a ! -h /etc/$webserver/mods-enabled/php5.load -a \
                              ! -f /etc/$webserver/mods-enabled/php5_filter.load -a ! -h /etc/$webserver/mods-enabled/php5_filter.load -a \
                              ! -f /etc/$webserver/mods-enabled/fcgid.load -a ! -h /etc/$webserver/mods-enabled/fcgid.load -a \
                              ! -f /etc/$webserver/mods-enabled/fastcgi.load -a ! -h /etc/$webserver/mods-enabled/fastcgi.load ]; then
                             ln -s /etc/$webserver/mods-available/php4.conf /etc/$webserver/mods-enabled/php4.conf
                             ln -s /etc/$webserver/mods-available/php4.load /etc/$webserver/mods-enabled/php4.load
                         fi
                     elif [ -f /etc/apache2/mods-available/php5.load -a -f /usr/lib/apache2/modules/mod_php5.so ]; then
                         if [ ! -f /etc/$webserver/mods-enabled/php4.load -a ! -h /etc/$webserver/mods-enabled/php4.load -a \
                              ! -f /etc/$webserver/mods-enabled/php5.load -a ! -h /etc/$webserver/mods-enabled/php5.load -a \
                              ! -f /etc/$webserver/mods-enabled/php5_filter.load -a ! -h /etc/$webserver/mods-enabled/php5_filter.load -a \
                              ! -f /etc/$webserver/mods-enabled/fcgid.load -a ! -h /etc/$webserver/mods-enabled/fcgid.load -a \
                              ! -f /etc/$webserver/mods-enabled/fastcgi.load -a ! -h /etc/$webserver/mods-enabled/fastcgi.load ]; then
                             ln -s /etc/$webserver/mods-available/php5.conf /etc/$webserver/mods-enabled/php5.conf
                             ln -s /etc/$webserver/mods-available/php5.load /etc/$webserver/mods-enabled/php5.load
                         fi
                     else
                         if [ ! -f /etc/$webserver/mods-enabled/cgi.load -a ! -h /etc/$webserver/mods-enabled/cgi.load -a \
                              ! -f /etc/$webserver/mods-enabled/cgid.load -a ! -h /etc/$webserver/mods-enabled/cgid.load -a \
                              ! -f /etc/$webserver/mods-enabled/fastcgi.load -a ! -h /etc/$webserver/mods-enabled/fastcgi.load -a \
                              ! -f /etc/$webserver/mods-enabled/fcgid.load -a ! -h /etc/$webserver/mods-enabled/fcgid.load ]; then
                             if /usr/sbin/$webserver -l 2>&1 | grep -qs prefork.c; then
                                 cgi=cgi
                             else
                                 cgi=cgid
                             fi
                             ln -s /etc/$webserver/mods-available/$cgi.load /etc/$webserver/mods-enabled/$cgi.load
                         fi
                     fi
                 fi
                 ;;
         esac
 .
         case "$webserver" in
             apache|apache-perl|apache-ssl|apache2)
                 newfile=false
                 if [ -d /etc/$webserver/conf.d -a ! -f /etc/$webserver/conf.d/phpmyadmin.conf -a ! -h /etc/$webserver/conf.d/phpmyadmin.conf ]; then
                     ln -s /etc/phpmyadmin/apache.conf /etc/$webserver/conf.d/phpmyadmin.conf
                     newfile=true
                 fi
                 if $newfile = true || ! md5sum -c /etc/phpmyadmin/apache.conf.dpkg-md5sum >/dev/null 2>&1; then
                     db_reset phpmyadmin/restart-webserver || true
                     db_subst phpmyadmin/restart-webserver webserver "$webserver"
                     db_input high phpmyadmin/restart-webserver || true
                     db_go
                     db_get phpmyadmin/restart-webserver
                     if [ "$RET" = "true" ]; then
                         restart="$restart $webserver"
                     fi
                 fi
                 ;;
         esac
     done
 .
     for webserver in $restart; do
         webserver=${webserver%,}
         if [ -x /usr/sbin/invoke-rc.d ]; then
             invoke-rc.d $webserver restart
         else
             /etc/init.d/$webserver restart
         fi
     done
 .
     rm -f /etc/phpmyadmin/apache.conf.dpkg-md5sum
 fi
Prerm: sh
 if [ "$1" = "remove" ] || [ "$1" = "purge" ]; then
     db_get phpmyadmin/reconfigure-webserver
     webservers="$RET"
     restart=""
 .
     for webserver in $webservers; do
         webserver=${webserver%,}
 .
         case "$webserver" in
             apache|apache-perl|apache-ssl|apache2)
                 rm -f /etc/$webserver/conf.d/phpmyadmin.conf
                 test -x /usr/sbin/$webserver || continue
                 db_reset phpmyadmin/restart-webserver
                 db_subst phpmyadmin/restart-webserver webserver "$webserver"
                 db_input phpmyadmin/restart-webserver high || true
                 db_go
                 db_get phpmyadmin/restart-webserver
                 if [ "$RET" = "true" ]; then
                     restart="$restart $webserver"
                 fi
                 ;;
         esac
     done
 .
     for webserver in $restart; do
         webserver=${webserver%,}
         if [ -x /usr/sbin/invoke-rc.d ]; then
             invoke-rc.d $webserver restart
         else
             /etc/init.d/$webserver restart
         fi
     done
 fi
Postrm: bash
 if [ "$1" = "purge" ]; then
     rm -f /etc/phpmyadmin/apache.conf.dpkg-md5sum
     for webserver in apache apache-perl apache-ssl apache2; do
         if [ -h /etc/$webserver/conf.d/phpmyadmin ]; then
             rm -f /etc/$webserver/conf.d/phpmyadmin
         fi
         rm -f /etc/$webserver/*.old.phpmyadmin
     done
     rm -f /etc/phpmyadmin/blowfish_secret.inc.php
     rm -f /etc/phpmyadmin/htpasswd.setup
 .
     if [ -h /var/www/phpmyadmin ]; then
         rm -f /var/www/phpmyadmin || true
     fi
 .
     rm -f /var/lib/phpmyadmin/config.inc.php
     rmdir --ignore-fail-on-non-empty /var/lib/phpmyadmin || true
 .
     for ext in '~' '%' .bak .dpkg-tmp .dpkg-new .dpkg-old .dpkg-dist; do
         rm -f "/etc/apache-perl/conf.d/phpmyadmin.conf$ext"
         rm -f "/etc/apache-ssl/conf.d/phpmyadmin.conf$ext"
         rm -f "/etc/apache/conf.d/phpmyadmin.conf$ext"
         rm -f "/etc/apache2/conf.d/phpmyadmin.conf$ext"
         rm -f "/etc/phpmyadmin/apache.conf$ext"
         rm -f "/etc/phpmyadmin/config.footer.inc.php$ext"
         rm -f "/etc/phpmyadmin/config.header.inc.php$ext"
         rm -f "/etc/phpmyadmin/config.inc.php$ext"
         rm -f "/etc/phpmyadmin/blowfish_secret.inc.php$ext"
         rm -f "/etc/phpmyadmin/footer.inc.php$ext"
         rm -f "/etc/phpmyadmin/header.inc.php$ext"
         rm -f "/etc/phpmyadmin/htaccess$ext"
         rm -f "/etc/phpmyadmin/htpasswd.setup$ext"
     done
 .
     rmdir --ignore-fail-on-non-empty /etc/phpmyadmin || true
 fi
Overrides:
 postinst-uses-db-input
